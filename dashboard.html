<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Your GLP-1 Journey Dashboard | Track Progress & Symptoms</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Private GLP-1 tracking dashboard. Log your weight, nausea levels, protein intake, and energy patterns to optimize your medication journey." />
  <link rel="canonical" href="https://glp-1tracker.netlify.app/dashboard.html" />
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5462334042904965" crossorigin="anonymous"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Libre+Baskerville:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  
  <style>
    .dashboard-grid {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 32px;
      margin-top: 40px;
    }
    
    .log-card {
      background: #fff;
      border: 1px solid #e2e8f0;
      border-radius: 16px;
      padding: 24px;
      position: sticky;
      top: 100px;
    }
    
    .stats-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }
    
    .stat-card {
      background: #fff;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }
    
    .stat-card h4 {
      color: #64748b;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }
    
    .stat-card .value {
      font-size: 1.75rem;
      font-weight: 700;
      color: #10b981;
    }
    
    .history-list {
      background: #fff;
      border: 1px solid #e2e8f0;
      border-radius: 16px;
      overflow: hidden;
    }
    
    .history-item {
      padding: 16px 24px;
      border-bottom: 1px solid #f1f5f9;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .history-item:last-child {
      border-bottom: none;
    }
    
    .symptom-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 6px;
    }
    
    .nausea-1 { background: #10b981; }
    .nausea-2 { background: #fbbf24; }
    .nausea-3 { background: #f87171; }
    
    .btn-delete {
      color: #ef4444;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 0.85rem;
    }
    
    .export-btn {
      background: #1e293b;
      color: #fff;
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      font-weight: 600;
      margin-top: 20px;
      cursor: pointer;
      border: none;
    }
    
    @media (max-width: 900px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
      }
      .log-card {
        position: static;
      }
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="shell topbar-row">
      <div class="brand">
        <span class="logo-dot"></span>
        <div>
          <p class="eyebrow">GLP-1 Care Companion</p>
          <p class="brand-name">Support & Patterns Hub</p>
        </div>
      </div>
      <form class="search">
        <input type="search" placeholder="Search GLP-1 topics..." aria-label="Search GLP-1 topics">
        <button type="submit">Search</button>
      </form>
    </div>
    <nav class="nav">
      <div class="shell nav-row">
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="updates.html">GLP-1 Updates</a></li>
          <li><a href="eating.html">Nausea-Smart Eating</a></li>
          <li><a href="hydration.html">Hydration</a></li>
          <li><a href="muscle.html">Muscle & Metabolic</a></li>
          <li><a href="recipes.html">Easy Protein</a></li>
          <li><a href="tools.html">Tools</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li><a href="dashboard.html" class="active">Dashboard</a></li>
        </ul>
        <button class="nav-toggle" aria-label="Toggle navigation">
          <span></span><span></span><span></span>
        </button>
      </div>
    </nav>
  </header>

  <main>
    <section class="section">
      <div class="shell">
        <div class="section-head">
          <p class="eyebrow">Private & Secure</p>
          <h1>Your GLP-1 Progress</h1>
          <p class="lede">Track your weight, nausea, and hydration to find patterns and prepare for clinical visits. Data is stored only on your device.</p>
        </div>

        <div class="stats-container">
          <div class="stat-card">
            <h4>Latest Weight</h4>
            <div class="value" id="latestWeight">--</div>
          </div>
          <div class="stat-card">
            <h4>Avg Nausea</h4>
            <div class="value" id="avgNausea">--</div>
          </div>
          <div class="stat-card">
            <h4>Days Tracked</h4>
            <div class="value" id="totalDays">0</div>
          </div>
        </div>

        <div class="dashboard-grid">
          <!-- Log Entry Card -->
          <div class="log-card">
            <h3 style="margin-bottom: 20px;">Log Today's Patterns</h3>
            <form id="logForm">
              <div class="input-group">
                <label>Weight (kg/lbs)</label>
                <input type="number" step="0.1" name="weight" placeholder="0.0" required>
              </div>
              <div class="input-group">
                <label>Nausea Level (1-3)</label>
                <select name="nausea" required>
                  <option value="1">1 - None / Very Mild</option>
                  <option value="2">2 - Moderate (I feel it)</option>
                  <option value="3">3 - Severe (Hard to eat)</option>
                </select>
              </div>
              <div class="input-group">
                <label>Did you hit hydration goal?</label>
                <select name="hydration" required>
                  <option value="yes">Yes ‚úÖ</option>
                  <option value="no">No ‚ùå</option>
                </select>
              </div>
              <button type="submit" class="calc-btn" style="width: 100%;">Save Entry</button>
            </form>
            
            <button class="export-btn" onclick="exportData()">üìÑ Export for Doctor</button>
            <button class="btn-delete" style="width: 100%; margin-top: 10px;" onclick="clearAllData()">Clear All Data</button>
          </div>

          <!-- History List -->
          <div class="history-list">
            <div style="padding: 20px; background: #f8fafc; border-bottom: 1px solid #e2e8f0;">
              <h3 style="font-size: 1.1rem;">Recent History</h3>
            </div>
            <div id="historyItems">
              <!-- Items will be injected here -->
              <p style="padding: 40px; text-align: center; color: #94a3b8;">No entries yet. Start logging above!</p>
            </div>
          </div>
        </div>

        <!-- Ad Slot -->
        <div class="ad-slot" aria-label="Advertisement" style="margin-top: 60px;">
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-5462334042904965"
               data-ad-slot="1234567890"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
          <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="shell footer-grid">
      <div class="footer-nav">
        <a href="index.html">Home</a>
        <a href="updates.html">Updates</a>
        <a href="eating.html">Nausea-Smart</a>
        <a href="hydration.html">Hydration</a>
        <a href="muscle.html">Muscle</a>
        <a href="recipes.html">Recipes</a>
        <a href="tools.html">Tools</a>
        <a href="blog.html">Blog</a>
        <a href="dashboard.html">Dashboard</a>
      </div>
      <div class="footer-links">
        <a href="#">Privacy</a>
        <a href="#">Terms</a>
        <a href="#">Contact</a>
      </div>
    </div>
    <div class="shell footer-note">
      <p class="tiny">Privacy Note: Your health data is stored locally in your browser. We never see or transmit your private health information.</p>
    </div>
  </footer>

  <!-- Cookie Consent Banner -->
  <div class="cookie-consent" id="cookieConsent">
    <div class="cookie-consent-content">
      <div class="cookie-consent-text">
        <h4>üç™ We value your privacy</h4>
        <p>We use cookies to analyze traffic and show personalized ads. <a href="#" onclick="return false;">Learn more</a></p>
      </div>
      <div class="cookie-consent-buttons">
        <button class="cookie-btn cookie-btn-accept" onclick="acceptCookies()">Accept All</button>
        <button class="cookie-btn cookie-btn-reject" onclick="rejectCookies()">Reject All</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    const logForm = document.getElementById('logForm');
    const historyItems = document.getElementById('historyItems');
    const STORAGE_KEY = 'glp1_logs';

    function getLogs() {
      return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
    }

    function saveLog(entry) {
      const logs = getLogs();
      logs.unshift({ ...entry, date: new Date().toLocaleDateString() });
      localStorage.setItem(STORAGE_KEY, JSON.stringify(logs));
      updateUI();
    }

    function deleteEntry(index) {
      const logs = getLogs();
      logs.splice(index, 1);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(logs));
      updateUI();
    }

    function clearAllData() {
      if (confirm('Are you sure you want to delete ALL your tracking history? This cannot be undone.')) {
        localStorage.removeItem(STORAGE_KEY);
        updateUI();
      }
    }

    function updateUI() {
      const logs = getLogs();
      
      // Update Stats
      if (logs.length > 0) {
        document.getElementById('latestWeight').textContent = `${logs[0].weight}`;
        const totalNausea = logs.reduce((acc, curr) => acc + parseInt(curr.nausea), 0);
        document.getElementById('avgNausea').textContent = (totalNausea / logs.length).toFixed(1);
        document.getElementById('totalDays').textContent = logs.length;
      } else {
        document.getElementById('latestWeight').textContent = '--';
        document.getElementById('avgNausea').textContent = '--';
        document.getElementById('totalDays').textContent = '0';
      }

      // Update History
      if (logs.length === 0) {
        historyItems.innerHTML = '<p style="padding: 40px; text-align: center; color: #94a3b8;">No entries yet. Start logging above!</p>';
        return;
      }

      historyItems.innerHTML = logs.map((log, index) => `
        <div class="history-item">
          <div>
            <p style="font-weight: 600;">${log.date}</p>
            <p style="font-size: 0.9rem; color: #64748b;">
              Weight: ${log.weight} | Hydration: ${log.hydration === 'yes' ? '‚úÖ' : '‚ùå'}
            </p>
          </div>
          <div style="display: flex; align-items: center; gap: 16px;">
            <span class="symptom-dot nausea-${log.nausea}"></span>
            <span style="font-size: 0.85rem; color: #64748b;">Nausea: ${log.nausea}/3</span>
            <button class="btn-delete" onclick="deleteEntry(${index})">Delete</button>
          </div>
        </div>
      `).join('');
    }

    logForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const formData = new FormData(logForm);
      saveLog({
        weight: formData.get('weight'),
        nausea: formData.get('nausea'),
        hydration: formData.get('hydration')
      });
      logForm.reset();
    });

    function exportData() {
      const logs = getLogs();
      if (logs.length === 0) {
        alert('No data to export!');
        return;
      }
      
      let csv = 'Date,Weight,Nausea(1-3),Hydration\n';
      logs.forEach(log => {
        csv += `${log.date},${log.weight},${log.nausea},${log.hydration}\n`;
      });
      
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.setAttribute('hidden', '');
      a.setAttribute('href', url);
      a.setAttribute('download', 'glp1-journey-report.csv');
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }

    // Initialize
    updateUI();
  </script>
</body>
</html>


